export type Language = 'fr' | 'en' | 'es';

export interface Translations {
  [key: string]: string | Translations;
}

export const translations: Record<Language, Translations> = {
  fr: {
    common: {
      home: 'Accueil',
      countries: 'Pays',
      community: 'Communauté',
      admin: 'Administration',
      login: 'Se connecter',
      logout: 'Déconnexion',
      profile: 'Profil',
      settings: 'Paramètres',
      search: 'Rechercher',
      loading: 'Chargement...',
      save: 'Sauvegarder',
      cancel: 'Annuler',
      delete: 'Supprimer',
      edit: 'Modifier',
      view: 'Voir',
      back: 'Retour',
      next: 'Suivant',
      previous: 'Précédent',
      close: 'Fermer',
      yes: 'Oui',
      no: 'Non',
      submit: 'Soumettre',
      continue: 'Continuer',
      finish: 'Terminer'
    },
    nav: {
      myApplications: 'Mes démarches',
      exploreDestinations: 'Explorer les destinations',
      joinCommunity: 'Rejoindre la communauté'
    },
    home: {
      title: 'Simplifiez vos',
      subtitle: 'Démarches de Visa',
      description: 'DORA vous accompagne pas à pas dans l\'obtention de votre visa avec des conseils personnalisés et un suivi complet.',
      searchPlaceholder: 'Rechercher une destination...',
      startNow: 'Commencer maintenant',
      continueApplication: 'Continuer ma demande',
      whyChoose: 'Pourquoi choisir DORA ?',
      completeGuide: 'Accompagnement Complet',
      completeGuideDesc: 'Guide étape par étape pour vos démarches de visa',
      destinations: '180+ Destinations',
      destinationsDesc: 'Informations détaillées sur tous les pays',
      activeCommunity: 'Communauté Active',
      activeCommunityDesc: 'Partagez vos expériences avec d\'autres voyageurs',
      visaSimulator: 'Simulateur de Coût de Visa',
      simulatorDesc: 'Estimez rapidement le coût et la durée de votre demande',
      selectDestination: 'Sélectionnez votre destination',
      estimation: 'Estimation',
      testimonials: 'Ce que disent nos utilisateurs',
      testimonialDesc: 'Plus de 25,000 voyageurs nous font confiance',
      readyToTravel: 'Prêt à partir à l\'aventure ?',
      readyDesc: 'Rejoignez des milliers de voyageurs qui ont simplifié leurs démarches avec DORA'
    },
    countries: {
      title: 'Explorez le Monde',
      description: 'Découvrez plus de 180 destinations et simplifiez vos démarches de visa',
      searchPlaceholder: 'Rechercher un pays, continent ou ville...',
      destinationsFound: 'destinations trouvées',
      allCountries: 'Tous les pays',
      allContinents: 'Tous',
      visaRequired: 'Visa requis',
      noVisa: 'Sans visa',
      sortBy: 'Trier par',
      nameAZ: 'Nom (A-Z)',
      costAsc: 'Coût croissant',
      popularity: 'Popularité',
      shortestDelay: 'Délai le plus court',
      processingTime: 'Délai de traitement',
      approximateCost: 'Coût approximatif',
      popularSeason: 'Saison populaire',
      discover: 'Découvrir',
      start: 'Commencer',
      noDestinations: 'Aucune destination trouvée',
      tryModifying: 'Essayez de modifier vos critères de recherche',
      resetFilters: 'Réinitialiser les filtres'
    },
    community: {
      title: 'Communauté DORA',
      description: 'Partagez vos expériences, découvrez les conseils d\'autres voyageurs et construisons ensemble une communauté d\'aventuriers',
      shareExperience: 'Partager mon expérience',
      experiencesShared: 'expériences partagées',
      shareYourExperience: 'Partager votre expérience',
      title_field: 'Titre',
      titlePlaceholder: 'Ex: Mon expérience visa Canada',
      concernedCountry: 'Pays concerné',
      selectCountry: 'Sélectionnez un pays',
      experienceRating: 'Note de votre expérience',
      excellent: 'Excellent',
      veryGood: 'Très bien',
      good: 'Bien',
      average: 'Moyen',
      disappointing: 'Décevant',
      yourExperience: 'Votre expérience',
      experiencePlaceholder: 'Partagez votre expérience en détail...',
      tags: 'Tags (séparés par des virgules)',
      tagsPlaceholder: 'Ex: visa, conseils, expérience',
      imageUrl: 'URL de l\'image (optionnel)',
      publishExperience: 'Publier mon expérience',
      joinCommunity: 'Rejoignez la communauté !',
      connectToShare: 'Connectez-vous pour partager vos expériences, poser des questions et interagir avec d\'autres voyageurs.',
      noExperiences: 'Aucune expérience trouvée',
      beFirst: 'Soyez le premier à partager votre expérience !',
      likes: 'likes',
      comments: 'commentaires',
      views: 'vues'
    },
    visa: {
      title: 'Demande de visa',
      step: 'Étape',
      of: 'sur',
      progress: 'Progression',
      requirementsResearch: 'Recherche des Exigences',
      documentsGathering: 'Rassemblement des Documents',
      applicationFilling: 'Remplissage de la Demande',
      applicationSubmission: 'Soumission de la Demande',
      applicationTracking: 'Suivi de la Demande',
      aiAssistant: 'Assistant IA',
      needHelp: 'Besoin d\'aide ? Posez vos questions à l\'assistant IA.',
      askQuestion: 'Tapez votre question ici...',
      askForHelp: 'Demander de l\'aide',
      quickActions: 'Actions rapides',
      downloadSummary: 'Télécharger le récapitulatif',
      consultChecklist: 'Consulter la checklist',
      contactSupport: 'Contacter le support',
      processingTime: 'Délai de traitement',
      approximateCost: 'Coût approximatif',
      popularSeason: 'Saison populaire'
    },
    admin: {
      title: 'Tableau de bord Admin',
      description: 'Gérez votre plateforme DORA',
      administrator: 'Administrateur',
      dashboard: 'Tableau de bord',
      posts: 'Posts',
      users: 'Utilisateurs',
      countries: 'Pays',
      totalUsers: 'Utilisateurs',
      totalPosts: 'Posts totaux',
      pending: 'En attente',
      totalCountries: 'Pays',
      recentActivity: 'Activité récente',
      approved: 'Approuvé',
      rejected: 'Rejeté',
      userManagement: 'Gestion des utilisateurs',
      countryManagement: 'Gestion des pays',
      addCountry: 'Ajouter un pays',
      editCountry: 'Modifier le pays',
      name: 'Nom',
      code: 'Code',
      continent: 'Continent',
      capital: 'Capitale',
      description: 'Description',
      processingTime: 'Délai de traitement',
      averageCost: 'Coût moyen (€)',
      saveChanges: 'Sauvegarder les modifications'
    },
    auth: {
      welcomeTitle: 'Bienvenue sur DORA',
      login: 'Connexion',
      register: 'Inscription',
      email: 'Email',
      password: 'Mot de passe',
      confirmPassword: 'Confirmer le mot de passe',
      fullName: 'Nom complet',
      emailPlaceholder: 'votre@email.com',
      passwordPlaceholder: '••••••••',
      namePlaceholder: 'Jean Dupont',
      signIn: 'Se connecter',
      createAccount: 'Créer un compte',
      connecting: 'Connexion...',
      creating: 'Création...',
      testAccounts: 'Comptes de test :',
      userAccount: 'User: jean@example.com / password123',
      adminAccount: 'Admin: admin@dora.travel / admin123'
    },
    chatbot: {
      title: 'Assistant DORA',
      online: 'En ligne • IA spécialisée',
      askQuestion: 'Posez votre question...',
      pressEnter: 'Appuyez sur Entrée pour envoyer • IA spécialisée en voyages',
      clearConversation: 'Effacer la conversation'
    },
    theme: {
      light: 'Clair',
      dark: 'Sombre',
      system: 'Système'
    },
    language: {
      french: 'Français',
      english: 'English',
      spanish: 'Español'
    }
  },
  en: {
    common: {
      home: 'Home',
      countries: 'Countries',
      community: 'Community',
      admin: 'Administration',
      login: 'Sign In',
      logout: 'Sign Out',
      profile: 'Profile',
      settings: 'Settings',
      search: 'Search',
      loading: 'Loading...',
      save: 'Save',
      cancel: 'Cancel',
      delete: 'Delete',
      edit: 'Edit',
      view: 'View',
      back: 'Back',
      next: 'Next',
      previous: 'Previous',
      close: 'Close',
      yes: 'Yes',
      no: 'No',
      submit: 'Submit',
      continue: 'Continue',
      finish: 'Finish'
    },
    nav: {
      myApplications: 'My Applications',
      exploreDestinations: 'Explore Destinations',
      joinCommunity: 'Join Community'
    },
    home: {
      title: 'Simplify your',
      subtitle: 'Visa Applications',
      description: 'DORA guides you step by step in obtaining your visa with personalized advice and complete tracking.',
      searchPlaceholder: 'Search for a destination...',
      startNow: 'Start Now',
      continueApplication: 'Continue my application',
      whyChoose: 'Why choose DORA?',
      completeGuide: 'Complete Guidance',
      completeGuideDesc: 'Step-by-step guide for your visa applications',
      destinations: '180+ Destinations',
      destinationsDesc: 'Detailed information on all countries',
      activeCommunity: 'Active Community',
      activeCommunityDesc: 'Share your experiences with other travelers',
      visaSimulator: 'Visa Cost Simulator',
      simulatorDesc: 'Quickly estimate the cost and duration of your application',
      selectDestination: 'Select your destination',
      estimation: 'Estimation',
      testimonials: 'What our users say',
      testimonialDesc: 'More than 25,000 travelers trust us',
      readyToTravel: 'Ready for adventure?',
      readyDesc: 'Join thousands of travelers who have simplified their procedures with DORA'
    },
    countries: {
      title: 'Explore the World',
      description: 'Discover more than 180 destinations and simplify your visa procedures',
      searchPlaceholder: 'Search for a country, continent or city...',
      destinationsFound: 'destinations found',
      allCountries: 'All countries',
      allContinents: 'All',
      visaRequired: 'Visa required',
      noVisa: 'No visa',
      sortBy: 'Sort by',
      nameAZ: 'Name (A-Z)',
      costAsc: 'Increasing cost',
      popularity: 'Popularity',
      shortestDelay: 'Shortest delay',
      processingTime: 'Processing time',
      approximateCost: 'Approximate cost',
      popularSeason: 'Popular season',
      discover: 'Discover',
      start: 'Start',
      noDestinations: 'No destinations found',
      tryModifying: 'Try modifying your search criteria',
      resetFilters: 'Reset filters'
    },
    community: {
      title: 'DORA Community',
      description: 'Share your experiences, discover advice from other travelers and let\'s build a community of adventurers together',
      shareExperience: 'Share my experience',
      experiencesShared: 'experiences shared',
      shareYourExperience: 'Share your experience',
      title_field: 'Title',
      titlePlaceholder: 'Ex: My Canada visa experience',
      concernedCountry: 'Concerned country',
      selectCountry: 'Select a country',
      experienceRating: 'Rate your experience',
      excellent: 'Excellent',
      veryGood: 'Very good',
      good: 'Good',
      average: 'Average',
      disappointing: 'Disappointing',
      yourExperience: 'Your experience',
      experiencePlaceholder: 'Share your experience in detail...',
      tags: 'Tags (comma separated)',
      tagsPlaceholder: 'Ex: visa, advice, experience',
      imageUrl: 'Image URL (optional)',
      publishExperience: 'Publish my experience',
      joinCommunity: 'Join the community!',
      connectToShare: 'Sign in to share your experiences, ask questions and interact with other travelers.',
      noExperiences: 'No experiences found',
      beFirst: 'Be the first to share your experience!',
      likes: 'likes',
      comments: 'comments',
      views: 'views'
    },
    visa: {
      title: 'Visa application',
      step: 'Step',
      of: 'of',
      progress: 'Progress',
      requirementsResearch: 'Requirements Research',
      documentsGathering: 'Documents Gathering',
      applicationFilling: 'Application Filling',
      applicationSubmission: 'Application Submission',
      applicationTracking: 'Application Tracking',
      aiAssistant: 'AI Assistant',
      needHelp: 'Need help? Ask your questions to the AI assistant.',
      askQuestion: 'Type your question here...',
      askForHelp: 'Ask for help',
      quickActions: 'Quick actions',
      downloadSummary: 'Download summary',
      consultChecklist: 'Consult checklist',
      contactSupport: 'Contact support',
      processingTime: 'Processing time',
      approximateCost: 'Approximate cost',
      popularSeason: 'Popular season'
    },
    admin: {
      title: 'Admin Dashboard',
      description: 'Manage your DORA platform',
      administrator: 'Administrator',
      dashboard: 'Dashboard',
      posts: 'Posts',
      users: 'Users',
      countries: 'Countries',
      totalUsers: 'Users',
      totalPosts: 'Total posts',
      pending: 'Pending',
      totalCountries: 'Countries',
      recentActivity: 'Recent activity',
      approved: 'Approved',
      rejected: 'Rejected',
      userManagement: 'User management',
      countryManagement: 'Country management',
      addCountry: 'Add country',
      editCountry: 'Edit country',
      name: 'Name',
      code: 'Code',
      continent: 'Continent',
      capital: 'Capital',
      description: 'Description',
      processingTime: 'Processing time',
      averageCost: 'Average cost (€)',
      saveChanges: 'Save changes'
    },
    auth: {
      welcomeTitle: 'Welcome to DORA',
      login: 'Sign In',
      register: 'Sign Up',
      email: 'Email',
      password: 'Password',
      confirmPassword: 'Confirm password',
      fullName: 'Full name',
      emailPlaceholder: 'your@email.com',
      passwordPlaceholder: '••••••••',
      namePlaceholder: 'John Doe',
      signIn: 'Sign In',
      createAccount: 'Create account',
      connecting: 'Signing in...',
      creating: 'Creating...',
      testAccounts: 'Test accounts:',
      userAccount: 'User: jean@example.com / password123',
      adminAccount: 'Admin: admin@dora.travel / admin123'
    },
    chatbot: {
      title: 'DORA Assistant',
      online: 'Online • Specialized AI',
      askQuestion: 'Ask your question...',
      pressEnter: 'Press Enter to send • Travel specialized AI',
      clearConversation: 'Clear conversation'
    },
    theme: {
      light: 'Light',
      dark: 'Dark',
      system: 'System'
    },
    language: {
      french: 'Français',
      english: 'English',
      spanish: 'Español'
    }
  },
  es: {
    common: {
      home: 'Inicio',
      countries: 'Países',
      community: 'Comunidad',
      admin: 'Administración',
      login: 'Iniciar Sesión',
      logout: 'Cerrar Sesión',
      profile: 'Perfil',
      settings: 'Configuración',
      search: 'Buscar',
      loading: 'Cargando...',
      save: 'Guardar',
      cancel: 'Cancelar',
      delete: 'Eliminar',
      edit: 'Editar',
      view: 'Ver',
      back: 'Atrás',
      next: 'Siguiente',
      previous: 'Anterior',
      close: 'Cerrar',
      yes: 'Sí',
      no: 'No',
      submit: 'Enviar',
      continue: 'Continuar',
      finish: 'Finalizar'
    },
    nav: {
      myApplications: 'Mis Solicitudes',
      exploreDestinations: 'Explorar Destinos',
      joinCommunity: 'Unirse a la Comunidad'
    },
    home: {
      title: 'Simplifica tus',
      subtitle: 'Trámites de Visa',
      description: 'DORA te guía paso a paso para obtener tu visa con consejos personalizados y seguimiento completo.',
      searchPlaceholder: 'Buscar un destino...',
      startNow: 'Comenzar ahora',
      continueApplication: 'Continuar mi solicitud',
      whyChoose: '¿Por qué elegir DORA?',
      completeGuide: 'Guía Completa',
      completeGuideDesc: 'Guía paso a paso para tus trámites de visa',
      destinations: '180+ Destinos',
      destinationsDesc: 'Información detallada sobre todos los países',
      activeCommunity: 'Comunidad Activa',
      activeCommunityDesc: 'Comparte tus experiencias con otros viajeros',
      visaSimulator: 'Simulador de Costo de Visa',
      simulatorDesc: 'Estima rápidamente el costo y duración de tu solicitud',
      selectDestination: 'Selecciona tu destino',
      estimation: 'Estimación',
      testimonials: 'Lo que dicen nuestros usuarios',
      testimonialDesc: 'Más de 25,000 viajeros confían en nosotros',
      readyToTravel: '¿Listo para la aventura?',
      readyDesc: 'Únete a miles de viajeros que han simplificado sus trámites con DORA'
    },
    countries: {
      title: 'Explora el Mundo',
      description: 'Descubre más de 180 destinos y simplifica tus trámites de visa',
      searchPlaceholder: 'Buscar un país, continente o ciudad...',
      destinationsFound: 'destinos encontrados',
      allCountries: 'Todos los países',
      allContinents: 'Todos',
      visaRequired: 'Visa requerida',
      noVisa: 'Sin visa',
      sortBy: 'Ordenar por',
      nameAZ: 'Nombre (A-Z)',
      costAsc: 'Costo creciente',
      popularity: 'Popularidad',
      shortestDelay: 'Menor tiempo',
      processingTime: 'Tiempo de procesamiento',
      approximateCost: 'Costo aproximado',
      popularSeason: 'Temporada popular',
      discover: 'Descubrir',
      start: 'Comenzar',
      noDestinations: 'No se encontraron destinos',
      tryModifying: 'Intenta modificar tus criterios de búsqueda',
      resetFilters: 'Restablecer filtros'
    },
    community: {
      title: 'Comunidad DORA',
      description: 'Comparte tus experiencias, descubre consejos de otros viajeros y construyamos juntos una comunidad de aventureros',
      shareExperience: 'Compartir mi experiencia',
      experiencesShared: 'experiencias compartidas',
      shareYourExperience: 'Comparte tu experiencia',
      title_field: 'Título',
      titlePlaceholder: 'Ej: Mi experiencia visa Canadá',
      concernedCountry: 'País relacionado',
      selectCountry: 'Selecciona un país',
      experienceRating: 'Califica tu experiencia',
      excellent: 'Excelente',
      veryGood: 'Muy bueno',
      good: 'Bueno',
      average: 'Regular',
      disappointing: 'Decepcionante',
      yourExperience: 'Tu experiencia',
      experiencePlaceholder: 'Comparte tu experiencia en detalle...',
      tags: 'Etiquetas (separadas por comas)',
      tagsPlaceholder: 'Ej: visa, consejos, experiencia',
      imageUrl: 'URL de imagen (opcional)',
      publishExperience: 'Publicar mi experiencia',
      joinCommunity: '¡Únete a la comunidad!',
      connectToShare: 'Inicia sesión para compartir tus experiencias, hacer preguntas e interactuar con otros viajeros.',
      noExperiences: 'No se encontraron experiencias',
      beFirst: '¡Sé el primero en compartir tu experiencia!',
      likes: 'me gusta',
      comments: 'comentarios',
      views: 'vistas'
    },
    visa: {
      title: 'Solicitud de visa',
      step: 'Paso',
      of: 'de',
      progress: 'Progreso',
      requirementsResearch: 'Investigación de Requisitos',
      documentsGathering: 'Recopilación de Documentos',
      applicationFilling: 'Llenado de Solicitud',
      applicationSubmission: 'Envío de Solicitud',
      applicationTracking: 'Seguimiento de Solicitud',
      aiAssistant: 'Asistente IA',
      needHelp: '¿Necesitas ayuda? Haz tus preguntas al asistente IA.',
      askQuestion: 'Escribe tu pregunta aquí...',
      askForHelp: 'Pedir ayuda',
      quickActions: 'Acciones rápidas',
      downloadSummary: 'Descargar resumen',
      consultChecklist: 'Consultar lista',
      contactSupport: 'Contactar soporte',
      processingTime: 'Tiempo de procesamiento',
      approximateCost: 'Costo aproximado',
      popularSeason: 'Temporada popular'
    },
    admin: {
      title: 'Panel de Administración',
      description: 'Gestiona tu plataforma DORA',
      administrator: 'Administrador',
      dashboard: 'Panel',
      posts: 'Publicaciones',
      users: 'Usuarios',
      countries: 'Países',
      totalUsers: 'Usuarios',
      totalPosts: 'Total publicaciones',
      pending: 'Pendientes',
      totalCountries: 'Países',
      recentActivity: 'Actividad reciente',
      approved: 'Aprobado',
      rejected: 'Rechazado',
      userManagement: 'Gestión de usuarios',
      countryManagement: 'Gestión de países',
      addCountry: 'Agregar país',
      editCountry: 'Editar país',
      name: 'Nombre',
      code: 'Código',
      continent: 'Continente',
      capital: 'Capital',
      description: 'Descripción',
      processingTime: 'Tiempo de procesamiento',
      averageCost: 'Costo promedio (€)',
      saveChanges: 'Guardar cambios'
    },
    auth: {
      welcomeTitle: 'Bienvenido a DORA',
      login: 'Iniciar Sesión',
      register: 'Registrarse',
      email: 'Correo',
      password: 'Contraseña',
      confirmPassword: 'Confirmar contraseña',
      fullName: 'Nombre completo',
      emailPlaceholder: 'tu@correo.com',
      passwordPlaceholder: '••••••••',
      namePlaceholder: 'Juan Pérez',
      signIn: 'Iniciar Sesión',
      createAccount: 'Crear cuenta',
      connecting: 'Iniciando sesión...',
      creating: 'Creando...',
      testAccounts: 'Cuentas de prueba:',
      userAccount: 'Usuario: jean@example.com / password123',
      adminAccount: 'Admin: admin@dora.travel / admin123'
    },
    chatbot: {
      title: 'Asistente DORA',
      online: 'En línea • IA especializada',
      askQuestion: 'Haz tu pregunta...',
      pressEnter: 'Presiona Enter para enviar • IA especializada en viajes',
      clearConversation: 'Limpiar conversación'
    },
    theme: {
      light: 'Claro',
      dark: 'Oscuro',
      system: 'Sistema'
    },
    language: {
      french: 'Français',
      english: 'English',
      spanish: 'Español'
    }
  }
};

export const useTranslation = (language: Language = 'fr') => {
  const t = (key: string): string => {
    const keys = key.split('.');
    let value: any = translations[language];
    
    for (const k of keys) {
      if (value && typeof value === 'object' && k in value) {
        value = value[k];
      } else {
        return key; // Return key if translation not found
      }
    }
    
    return typeof value === 'string' ? value : key;
  };

  return { t };
};

export const getLanguageFromStorage = (): Language => {
  if (typeof window === 'undefined') return 'fr';
  return (localStorage.getItem('language') as Language) || 'fr';
};

export const setLanguageToStorage = (language: Language) => {
  if (typeof window === 'undefined') return;
  localStorage.setItem('language', language);
};